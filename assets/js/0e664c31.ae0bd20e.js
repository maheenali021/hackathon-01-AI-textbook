"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[593],{8428:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module2/module2-milestone","title":"Module 2 Milestone Project: Custom Robot Simulation","description":"Project Overview","source":"@site/docs/module2/module2-milestone.md","sourceDirName":"module2","slug":"/module2/module2-milestone","permalink":"/hackathon-01-AI-textbook/docs/module2/module2-milestone","draft":false,"unlisted":false,"editUrl":"https://github.com/maheenali021/hackathon-01-AI-textbook/tree/main/docs/module2/module2-milestone.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Module 2 Milestone Project: Custom Robot Simulation"},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 4: Sensor Simulation in Digital Twins","permalink":"/hackathon-01-AI-textbook/docs/module2/sensor-simulation"},"next":{"title":"Chapter 1: Introduction to NVIDIA Isaac","permalink":"/hackathon-01-AI-textbook/docs/module3/intro-to-nvidia-isaac"}}');var o=r(4848),a=r(8453);const t={sidebar_position:5,title:"Module 2 Milestone Project: Custom Robot Simulation"},l="Module 2 Milestone Project: Custom Robot Simulation",s={},c=[{value:"Project Overview",id:"project-overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Project Requirements",id:"project-requirements",level:2},{value:"Step-by-Step Implementation",id:"step-by-step-implementation",level:2},{value:"Step 1: Create the Robot URDF Model",id:"step-1-create-the-robot-urdf-model",level:3},{value:"Step 2: Create a Custom World File",id:"step-2-create-a-custom-world-file",level:3},{value:"Step 3: Create a Launch File",id:"step-3-create-a-launch-file",level:3},{value:"Step 4: Create RViz Configuration",id:"step-4-create-rviz-configuration",level:3},{value:"Step 5: Package Configuration",id:"step-5-package-configuration",level:3},{value:"Running the Simulation",id:"running-the-simulation",level:2},{value:"To run the simulation:",id:"to-run-the-simulation",level:3},{value:"Testing Your Implementation",id:"testing-your-implementation",level:2},{value:"Test 1: Verify Robot Model Loads",id:"test-1-verify-robot-model-loads",level:3},{value:"Test 2: Verify Sensor Data",id:"test-2-verify-sensor-data",level:3},{value:"Test 3: Test Robot Movement",id:"test-3-test-robot-movement",level:3},{value:"Enhancement Challenges",id:"enhancement-challenges",level:2},{value:"Solution Summary",id:"solution-summary",level:2},{value:"Learning Review",id:"learning-review",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"module-2-milestone-project-custom-robot-simulation",children:"Module 2 Milestone Project: Custom Robot Simulation"})}),"\n",(0,o.jsx)(e.h2,{id:"project-overview",children:"Project Overview"}),"\n",(0,o.jsx)(e.p,{children:"In this milestone project, you'll create a complete robot simulation environment using Gazebo. You'll design a custom robot model, set up the simulation environment, and implement sensor integration to create a realistic digital twin."}),"\n",(0,o.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsx)(e.p,{children:"After completing this project, you will be able to:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Create a custom robot URDF model with appropriate physical properties"}),"\n",(0,o.jsx)(e.li,{children:"Set up Gazebo simulation with custom world environments"}),"\n",(0,o.jsx)(e.li,{children:"Integrate various sensors (LIDAR, camera, IMU) in simulation"}),"\n",(0,o.jsx)(e.li,{children:"Configure robot controllers for realistic movement"}),"\n",(0,o.jsx)(e.li,{children:"Test robot behaviors in simulated environments"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"project-requirements",children:"Project Requirements"}),"\n",(0,o.jsx)(e.p,{children:"Create a complete simulation package with:"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"A custom humanoid robot model with URDF/SDF description"}),"\n",(0,o.jsx)(e.li,{children:"A Gazebo world file with obstacles and features"}),"\n",(0,o.jsx)(e.li,{children:"Sensor configurations for perception systems"}),"\n",(0,o.jsx)(e.li,{children:"Controller configurations for realistic movement"}),"\n",(0,o.jsx)(e.li,{children:"A launch file to start the complete simulation"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"step-by-step-implementation",children:"Step-by-Step Implementation"}),"\n",(0,o.jsx)(e.h3,{id:"step-1-create-the-robot-urdf-model",children:"Step 1: Create the Robot URDF Model"}),"\n",(0,o.jsxs)(e.p,{children:["Create the file ",(0,o.jsx)(e.code,{children:"robot_simulation/urdf/humanoid_robot.urdf"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\r\n\r\n  \x3c!-- Base Link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.15"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.15"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="10.0"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Torso --\x3e\r\n  <joint name="base_torso_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="torso"/>\r\n    <origin xyz="0 0 0.25"/>\r\n  </joint>\r\n\r\n  <link name="torso">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.4"/>\r\n      </geometry>\r\n      <material name="red">\r\n        <color rgba="1 0 0 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <joint name="torso_head_joint" type="fixed">\r\n    <parent link="torso"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.3"/>\r\n  </joint>\r\n\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n      <material name="white">\r\n        <color rgba="1 1 1 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Camera in head --\x3e\r\n  <joint name="head_camera_joint" type="fixed">\r\n    <parent link="head"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0.05 0 0"/>\r\n  </joint>\r\n\r\n  <link name="camera_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.05 0.05 0.05"/>\r\n      </geometry>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Camera sensor --\x3e\r\n  <gazebo reference="camera_link">\r\n    <sensor type="camera" name="camera1">\r\n      <update_rate>30.0</update_rate>\r\n      <camera name="head">\r\n        <horizontal_fov>1.3962634</horizontal_fov>\r\n        <image>\r\n          <width>800</width>\r\n          <height>600</height>\r\n          <format>R8G8B8</format>\r\n        </image>\r\n        <clip>\r\n          <near>0.1</near>\r\n          <far>100</far>\r\n        </clip>\r\n      </camera>\r\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\r\n        <frame_name>camera_link_optical</frame_name>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- Left Arm --\x3e\r\n  <joint name="torso_left_shoulder_joint" type="revolute">\r\n    <parent link="torso"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.2 0 0.1" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="100" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n      <material name="green">\r\n        <color rgba="0 1 0 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  <joint name="left_elbow_joint" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_lower_arm"/>\r\n    <origin xyz="0 0 -0.3"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit lower="-1.57" upper="1.57" effort="100" velocity="1"/>\r\n  </joint>\r\n\r\n  <link name="left_lower_arm">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n      <material name="green">\r\n        <color rgba="0 1 0 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <cylinder length="0.3" radius="0.04"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="0.5"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- LIDAR Sensor --\x3e\r\n  <joint name="base_lidar_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="lidar_link"/>\r\n    <origin xyz="0 0 0.2"/>\r\n  </joint>\r\n\r\n  <link name="lidar_link">\r\n    <visual>\r\n      <geometry>\r\n        <cylinder length="0.05" radius="0.05"/>\r\n      </geometry>\r\n      <material name="black">\r\n        <color rgba="0 0 0 0.8"/>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n\r\n  <gazebo reference="lidar_link">\r\n    <sensor type="ray" name="lidar_sensor">\r\n      <pose>0 0 0 0 0 0</pose>\r\n      <visualize>true</visualize>\r\n      <update_rate>10</update_rate>\r\n      <ray>\r\n        <scan>\r\n          <horizontal>\r\n            <samples>360</samples>\r\n            <resolution>1</resolution>\r\n            <min_angle>-3.14159</min_angle>\r\n            <max_angle>3.14159</max_angle>\r\n          </horizontal>\r\n        </scan>\r\n        <range>\r\n          <min>0.1</min>\r\n          <max>30.0</max>\r\n          <resolution>0.01</resolution>\r\n        </range>\r\n      </ray>\r\n      <plugin name="lidar_controller" filename="libgazebo_ros_ray_sensor.so">\r\n        <ros>\r\n          <namespace>/humanoid_robot</namespace>\r\n          <remapping>~/out:=scan</remapping>\r\n        </ros>\r\n        <output_type>sensor_msgs/LaserScan</output_type>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- IMU Sensor --\x3e\r\n  <gazebo reference="torso">\r\n    <sensor name="imu_sensor" type="imu">\r\n      <always_on>true</always_on>\r\n      <update_rate>100</update_rate>\r\n      <visualize>false</visualize>\r\n      <plugin filename="libgazebo_ros_imu.so" name="imu_plugin">\r\n        <topicName>imu</topicName>\r\n        <bodyName>torso</bodyName>\r\n        <serviceName>imu_service</serviceName>\r\n        <gaussianNoise>0.0</gaussianNoise>\r\n        <updateRateHZ>100.0</updateRateHZ>\r\n        <imu>\r\n          <noise>\r\n            <type>gaussian</type>\r\n            <rate>\r\n              <mean>0.0</mean>\r\n              <stddev>2e-4</stddev>\r\n              <bias_mean>0.0000075</bias_mean>\r\n              <bias_stddev>0.0000008</bias_stddev>\r\n            </rate>\r\n            <accel>\r\n              <mean>0.0</mean>\r\n              <stddev>1.7e-2</stddev>\r\n              <bias_mean>0.1</bias_mean>\r\n              <bias_stddev>0.001</bias_stddev>\r\n            </accel>\r\n          </noise>\r\n        </imu>\r\n      </plugin>\r\n    </sensor>\r\n  </gazebo>\r\n\r\n  \x3c!-- Differential Drive Controller --\x3e\r\n  <gazebo>\r\n    <plugin name="diff_drive" filename="libgazebo_ros_diff_drive.so">\r\n      <commandTopic>cmd_vel</commandTopic>\r\n      <odometryTopic>odom</odometryTopic>\r\n      <odometryFrame>odom</odometryFrame>\r\n      <robotBaseFrame>base_link</robotBaseFrame>\r\n      <publishOdomTF>true</publishOdomTF>\r\n      <wheelDiameter>0.15</wheelDiameter>\r\n      <wheelSeparation>0.4</wheelSeparation>\r\n      <wheelAcceleration>1.8</wheelAcceleration>\r\n      <wheelTorque>5.0</wheelTorque>\r\n      <odometrySource>world</odometrySource>\r\n    </plugin>\r\n  </gazebo>\r\n\r\n</robot>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"step-2-create-a-custom-world-file",children:"Step 2: Create a Custom World File"}),"\n",(0,o.jsxs)(e.p,{children:["Create the file ",(0,o.jsx)(e.code,{children:"robot_simulation/worlds/simple_world.world"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'<?xml version="1.0" ?>\r\n<sdf version="1.6">\r\n  <world name="simple_world">\r\n    \x3c!-- Include the sun --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n\r\n    \x3c!-- Include ground plane --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Office-like environment --\x3e\r\n    <model name="table1">\r\n      <pose>-2 1 0 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>1.0 0.8 0.8</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>1.0 0.8 0.8</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.8 0.6 0.2 1</ambient>\r\n            <diffuse>0.8 0.6 0.2 1</diffuse>\r\n          </material>\r\n        </visual>\r\n        <inertial>\r\n          <mass>10.0</mass>\r\n          <inertia>\r\n            <ixx>1.0</ixx>\r\n            <ixy>0.0</ixy>\r\n            <ixz>0.0</ixz>\r\n            <iyy>1.0</iyy>\r\n            <iyz>0.0</iyz>\r\n            <izz>1.0</izz>\r\n          </inertia>\r\n        </inertial>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="box1">\r\n      <pose>2 -1 0 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.5 0.5</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>0.5 0.5 0.5</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.2 0.8 0.2 1</ambient>\r\n            <diffuse>0.2 0.8 0.2 1</diffuse>\r\n          </material>\r\n        </visual>\r\n        <inertial>\r\n          <mass>5.0</mass>\r\n          <inertia>\r\n            <ixx>1.0</ixx>\r\n            <ixy>0.0</ixy>\r\n            <ixz>0.0</ixz>\r\n            <iyy>1.0</iyy>\r\n            <iyz>0.0</iyz>\r\n            <izz>1.0</izz>\r\n          </inertial>\r\n        </inertial>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="wall1">\r\n      <pose>0 3 0 0 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>6.0 0.2 2.0</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>6.0 0.2 2.0</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.5 0.5 0.5 1</ambient>\r\n            <diffuse>0.5 0.5 0.5 1</diffuse>\r\n          </material>\r\n        </visual>\r\n        <inertial>\r\n          <mass>100.0</mass>\r\n          <inertia>\r\n            <ixx>1.0</ixx>\r\n            <ixy>0.0</ixy>\r\n            <ixz>0.0</ixz>\r\n            <iyy>1.0</iyy>\r\n            <iyz>0.0</iyz>\r\n            <izz>1.0</izz>\r\n          </inertial>\r\n        </inertial>\r\n      </link>\r\n    </model>\r\n\r\n    <model name="wall2">\r\n      <pose>3 0 0 1.5707 0 0</pose>\r\n      <link name="link">\r\n        <collision name="collision">\r\n          <geometry>\r\n            <box>\r\n              <size>6.0 0.2 2.0</size>\r\n            </box>\r\n          </geometry>\r\n        </collision>\r\n        <visual name="visual">\r\n          <geometry>\r\n            <box>\r\n              <size>6.0 0.2 2.0</size>\r\n            </box>\r\n          </geometry>\r\n          <material>\r\n            <ambient>0.5 0.5 0.5 1</ambient>\r\n            <diffuse>0.5 0.5 0.5 1</diffuse>\r\n          </material>\r\n        </visual>\r\n        <inertial>\r\n          <mass>100.0</mass>\r\n          <inertia>\r\n            <ixx>1.0</ixx>\r\n            <ixy>0.0</ixy>\r\n            <ixz>0.0</ixz>\r\n            <iyy>1.0</iyy>\r\n            <iyz>0.0</iyz>\r\n            <izz>1.0</izz>\r\n          </inertial>\r\n        </inertial>\r\n      </link>\r\n    </model>\r\n\r\n    \x3c!-- Lighting --\x3e\r\n    <light name="spotlight" type="spot">\r\n      <pose>0 0 5 0 0 0</pose>\r\n      <diffuse>1 1 1 1</diffuse>\r\n      <specular>0.5 0.5 0.5 1</specular>\r\n      <attenuation>\r\n        <range>20</range>\r\n        <constant>0.5</constant>\r\n        <linear>0.1</linear>\r\n        <quadratic>0.01</quadratic>\r\n      </attenuation>\r\n      <direction>-0.5 0.1 -0.9</direction>\r\n      <spot>\r\n        <inner_angle>0.1</inner_angle>\r\n        <outer_angle>0.5</outer_angle>\r\n        <falloff>10</falloff>\r\n      </spot>\r\n    </light>\r\n\r\n  </world>\r\n</sdf>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"step-3-create-a-launch-file",children:"Step 3: Create a Launch File"}),"\n",(0,o.jsxs)(e.p,{children:["Create the file ",(0,o.jsx)(e.code,{children:"robot_simulation/launch/humanoid_simulation.launch.py"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import os\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\n\r\ndef generate_launch_description():\r\n    # Package names\r\n    pkg_gazebo_ros = get_package_share_directory('gazebo_ros')\r\n    pkg_robot_simulation = get_package_share_directory('robot_simulation')\r\n\r\n    # World file\r\n    world = os.path.join(\r\n        pkg_robot_simulation,\r\n        'worlds',\r\n        'simple_world.world'\r\n    )\r\n\r\n    # Launch Gazebo\r\n    gazebo = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(\r\n            os.path.join(pkg_gazebo_ros, 'launch', 'gazebo.launch.py'),\r\n        ),\r\n        launch_arguments={'world': world}.items(),\r\n    )\r\n\r\n    # Robot description\r\n    robot_desc = os.path.join(\r\n        pkg_robot_simulation,\r\n        'urdf',\r\n        'humanoid_robot.urdf'\r\n    )\r\n\r\n    # Publish robot state\r\n    robot_state_publisher = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        name='robot_state_publisher',\r\n        output='screen',\r\n        parameters=[{'robot_description': open(robot_desc).read()}],\r\n        arguments=[robot_desc]\r\n    )\r\n\r\n    # Spawn robot in Gazebo\r\n    spawn_entity = Node(\r\n        package='gazebo_ros',\r\n        executable='spawn_entity.py',\r\n        arguments=[\r\n            '-topic', 'robot_description',\r\n            '-entity', 'humanoid_robot',\r\n            '-x', '0',\r\n            '-y', '0',\r\n            '-z', '0.2'\r\n        ],\r\n        output='screen'\r\n    )\r\n\r\n    # RViz2\r\n    rviz_config = os.path.join(\r\n        pkg_robot_simulation,\r\n        'rviz',\r\n        'config.rviz'\r\n    )\r\n\r\n    rviz = Node(\r\n        package='rviz2',\r\n        executable='rviz2',\r\n        name='rviz2',\r\n        arguments=['-d', rviz_config],\r\n        output='screen'\r\n    )\r\n\r\n    return LaunchDescription([\r\n        DeclareLaunchArgument(\r\n            'world',\r\n            default_value=world,\r\n            description='Choose one of the world files from `/robot_simulation/worlds`'\r\n        ),\r\n        gazebo,\r\n        robot_state_publisher,\r\n        spawn_entity,\r\n        # rviz  # Uncomment if you want RViz to start automatically\r\n    ])\n"})}),"\n",(0,o.jsx)(e.h3,{id:"step-4-create-rviz-configuration",children:"Step 4: Create RViz Configuration"}),"\n",(0,o.jsxs)(e.p,{children:["Create the file ",(0,o.jsx)(e.code,{children:"robot_simulation/rviz/config.rviz"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:'Panels:\r\n  - Class: rviz_common/Displays\r\n    Help Height: 78\r\n    Name: Displays\r\n    Property Tree Widget:\r\n      Expanded:\r\n        - /Global Options1\r\n        - /Status1\r\n        - /RobotModel1\r\n        - /LaserScan1\r\n        - /Image1\r\n      Splitter Ratio: 0.5\r\n    Tree Height: 617\r\n  - Class: rviz_common/Selection\r\n    Name: Selection\r\n  - Class: rviz_common/Tool Properties\r\n    Expanded:\r\n      - /2D Goal Pose1\r\n      - /Publish Point1\r\n    Name: Tool Properties\r\n    Splitter Ratio: 0.5886790156364441\r\n  - Class: rviz_common/Views\r\n    Expanded:\r\n      - /Current View1\r\n    Name: Views\r\n    Splitter Ratio: 0.5\r\nVisualization Manager:\r\n  Class: ""\r\n  Displays:\r\n    - Alpha: 0.5\r\n      Cell Size: 1\r\n      Class: rviz_default_plugins/Grid\r\n      Color: 160; 160; 164\r\n      Enabled: true\r\n      Line Style:\r\n        Line Width: 0.029999999329447746\r\n        Value: Lines\r\n      Name: Grid\r\n      Normal Cell Count: 0\r\n      Offset:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Plane: XY\r\n      Plane Cell Count: 10\r\n      Reference Frame: <Fixed Frame>\r\n      Value: true\r\n    - Class: rviz_default_plugins/RobotModel\r\n      Collision Enabled: false\r\n      Description File: ""\r\n      Enabled: true\r\n      Links:\r\n        All Links Enabled: true\r\n        Expand Joint Details: false\r\n        Expand Link Details: false\r\n        Expand Tree: false\r\n        Link Tree Style: Links in Alphabetic Order\r\n      Name: RobotModel\r\n      TF Prefix: ""\r\n      Update Interval: 0\r\n      Value: true\r\n      Visual Enabled: true\r\n    - Class: rviz_default_plugins/TF\r\n      Enabled: true\r\n      Frame Timeout: 15\r\n      Frames:\r\n        All Enabled: true\r\n      Marker Scale: 1\r\n      Name: TF\r\n      Show Arrows: true\r\n      Show Axes: true\r\n      Show Names: false\r\n      Tree:\r\n        {}\r\n      Update Interval: 0\r\n      Value: true\r\n    - Alpha: 1\r\n      Autocompute Intensity Bounds: true\r\n      Class: rviz_default_plugins/LaserScan\r\n      Color: 255; 255; 255\r\n      Color Transformer: Intensity\r\n      Decay Time: 0\r\n      Enabled: true\r\n      Invert Rainbow: false\r\n      Max Color: 255; 255; 255\r\n      Max Intensity: 0\r\n      Min Color: 0; 0; 0\r\n      Min Intensity: 0\r\n      Name: LaserScan\r\n      Position Transformer: XYZ\r\n      Queue Size: 10\r\n      Selectable: true\r\n      Size (Pixels): 3\r\n      Size (m): 0.009999999776482582\r\n      Style: Flat Squares\r\n      Topic:\r\n        Depth: 5\r\n        Durability Policy: Volatile\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /scan\r\n      Use Fixed Frame: true\r\n      Use rainbow: true\r\n      Value: true\r\n    - Class: rviz_default_plugins/Image\r\n      Enabled: true\r\n      Max Value: 1\r\n      Min Value: 0\r\n      Name: Image\r\n      Normalize Range: true\r\n      Topic:\r\n        Depth: 5\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /humanoid_robot/camera1/image_raw\r\n      Value: true\r\n  Enabled: true\r\n  Global Options:\r\n    Background Color: 48; 48; 48\r\n    Fixed Frame: odom\r\n    Frame Rate: 30\r\n  Name: root\r\n  Tools:\r\n    - Class: rviz_default_plugins/Interact\r\n      Hide Inactive Objects: true\r\n    - Class: rviz_default_plugins/MoveCamera\r\n    - Class: rviz_default_plugins/Select\r\n    - Class: rviz_default_plugins/FocusCamera\r\n    - Class: rviz_default_plugins/Measure\r\n    - Class: rviz_default_plugins/SetInitialPose\r\n      Topic:\r\n        Depth: 5\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /initialpose\r\n    - Class: rviz_default_plugins/SetGoal\r\n      Topic:\r\n        Depth: 5\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /goal_pose\r\n    - Class: rviz_default_plugins/PublishPoint\r\n      Single click: true\r\n      Topic:\r\n        Depth: 5\r\n        History Policy: Keep Last\r\n        Reliability Policy: Reliable\r\n        Value: /clicked_point\r\n  Transformation:\r\n    Current:\r\n      Class: rviz_default_plugins/TF\r\n  Value: true\r\n  Views:\r\n    Current:\r\n      Class: rviz_default_plugins/Orbit\r\n      Distance: 10\r\n      Enable Stereo Rendering:\r\n        Stereo Eye Separation: 0.05999999865889549\r\n        Stereo Focal Distance: 1\r\n        Swap Stereo Eyes: false\r\n        Value: false\r\n      Focal Point:\r\n        X: 0\r\n        Y: 0\r\n        Z: 0\r\n      Focal Shape Fixed Size: true\r\n      Focal Shape Size: 0.05000000074505806\r\n      Invert Z Axis: false\r\n      Name: Current View\r\n      Near Clip Distance: 0.009999999776482582\r\n      Pitch: 0.5\r\n      Target Frame: <Fixed Frame>\r\n      Value: Orbit (rviz)\r\n      Yaw: 0.5\r\n    Saved: ~\r\nWindow Geometry:\r\n  Displays:\r\n    collapsed: false\r\n  Height: 846\r\n  Hide Left Dock: false\r\n  Hide Right Dock: false\r\n  Image:\r\n    collapsed: false\r\n  QMainWindow State: 000000ff00000000fd000000040000000000000156000002f4fc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d000002f4000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa0000023a00000294fb00000014005700690064006500530074006500720065006f02000000e6000000d2000003ee0000030bfb0000000c004b0069006e0065006300740200000186000001060000030c00000261000000010000010f000002f4fc0200000003fb0000001e0054006f006f006c002000500072006f00700065007200740069006500730100000041000000780000000000000000fb0000000a005600690065007700730000000028000002f4000000a400fffffffb0000001200530065006c0065006300740069006f006e010000025a000000b200000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d006501000000000000045000000000000000000000023f000002f400000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\r\n  Selection:\r\n    collapsed: false\r\n  Tool Properties:\r\n    collapsed: false\r\n  Views:\r\n    collapsed: false\r\n  Width: 1200\r\n  X: 72\r\n  Y: 60\n'})}),"\n",(0,o.jsx)(e.h3,{id:"step-5-package-configuration",children:"Step 5: Package Configuration"}),"\n",(0,o.jsxs)(e.p,{children:["Create the file ",(0,o.jsx)(e.code,{children:"robot_simulation/package.xml"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\r\n<package format="3">\r\n  <name>robot_simulation</name>\r\n  <version>0.0.0</version>\r\n  <description>Custom robot simulation package for Module 2 milestone project</description>\r\n  <maintainer email="your_email@example.com">Your Name</maintainer>\r\n  <license>TODO: License declaration</license>\r\n\r\n  <buildtool_depend>ament_cmake</buildtool_depend>\r\n\r\n  <depend>gazebo_ros</depend>\r\n  <depend>gazebo_plugins</depend>\r\n  <depend>robot_state_publisher</depend>\r\n  <depend>rviz2</depend>\r\n\r\n  <exec_depend>launch</exec_depend>\r\n  <exec_depend>launch_ros</exec_depend>\r\n\r\n  <export>\r\n    <build_type>ament_cmake</build_type>\r\n  </export>\r\n</package>\n'})}),"\n",(0,o.jsxs)(e.p,{children:["And create the ",(0,o.jsx)(e.code,{children:"robot_simulation/CMakeLists.txt"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cmake",children:'cmake_minimum_required(VERSION 3.8)\r\nproject(robot_simulation)\r\n\r\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\n# find dependencies\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(gazebo_ros REQUIRED)\r\nfind_package(gazebo_plugins REQUIRED)\r\nfind_package(robot_state_publisher REQUIRED)\r\n\r\n# Install launch files\r\ninstall(DIRECTORY launch\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install URDF files\r\ninstall(DIRECTORY urdf\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install world files\r\ninstall(DIRECTORY worlds\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install RViz config\r\ninstall(DIRECTORY rviz\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\nif(BUILD_TESTING)\r\n  find_package(ament_lint_auto REQUIRED)\r\n  # the following line skips the linter which checks for copyrights\r\n  # comment the line when a copyright and license is added to all source files\r\n  set(ament_cmake_copyright_FOUND TRUE)\r\n  # the following line skips cpplint (only works in a git repo)\r\n  # comment the line when this package is in a git repo and when\r\n  # a copyright and license is added to all source files\r\n  set(ament_cmake_cpplint_FOUND TRUE)\r\n  ament_lint_auto_find_test_dependencies()\r\nendif()\r\n\r\nament_package()\n'})}),"\n",(0,o.jsx)(e.h2,{id:"running-the-simulation",children:"Running the Simulation"}),"\n",(0,o.jsx)(e.h3,{id:"to-run-the-simulation",children:"To run the simulation:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Terminal 1: Start Gazebo simulation\r\nros2 launch robot_simulation humanoid_simulation.launch.py\r\n\r\n# Terminal 2: Send movement commands\r\nros2 topic pub /cmd_vel geometry_msgs/msg/Twist '{linear: {x: 0.5}, angular: {z: 0.2}}'\r\n\r\n# Terminal 3: Monitor sensor data\r\nros2 topic echo /scan\r\nros2 topic echo /imu\n"})}),"\n",(0,o.jsx)(e.h2,{id:"testing-your-implementation",children:"Testing Your Implementation"}),"\n",(0,o.jsx)(e.h3,{id:"test-1-verify-robot-model-loads",children:"Test 1: Verify Robot Model Loads"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check if robot model is properly loaded\r\nros2 run rviz2 rviz2\r\n# Add RobotModel display and set topic to your robot description\n"})}),"\n",(0,o.jsx)(e.h3,{id:"test-2-verify-sensor-data",children:"Test 2: Verify Sensor Data"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Check LIDAR data\r\nros2 topic echo /scan --field ranges | head -n 10\r\n\r\n# Check IMU data\r\nros2 topic echo /imu | head -n 5\r\n\r\n# Check camera data (if available)\r\nros2 topic echo /humanoid_robot/camera1/image_raw --field header | head -n 1\n"})}),"\n",(0,o.jsx)(e.h3,{id:"test-3-test-robot-movement",children:"Test 3: Test Robot Movement"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Send forward command\r\nros2 topic pub --once /cmd_vel geometry_msgs/msg/Twist '{linear: {x: 0.5}, angular: {z: 0.0}}'\r\n\r\n# Send rotation command\r\nros2 topic pub --once /cmd_vel geometry_msgs/msg/Twist '{linear: {x: 0.0}, angular: {z: 0.5}}'\n"})}),"\n",(0,o.jsx)(e.h2,{id:"enhancement-challenges",children:"Enhancement Challenges"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Add more complex environments with multiple rooms"}),"\n",(0,o.jsx)(e.li,{children:"Implement dynamic obstacles that move around the environment"}),"\n",(0,o.jsx)(e.li,{children:"Add more sensor types (GPS, magnetometer, etc.)"}),"\n",(0,o.jsx)(e.li,{children:"Create a navigation stack that works with your simulated robot"}),"\n",(0,o.jsx)(e.li,{children:"Add physics properties to make the simulation more realistic"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"solution-summary",children:"Solution Summary"}),"\n",(0,o.jsx)(e.p,{children:"This milestone project demonstrates how to create a complete simulation environment with:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"A custom humanoid robot model with realistic physical properties"}),"\n",(0,o.jsx)(e.li,{children:"Multiple sensor types (LIDAR, camera, IMU) properly configured"}),"\n",(0,o.jsx)(e.li,{children:"A differential drive controller for realistic movement"}),"\n",(0,o.jsx)(e.li,{children:"A custom world environment with obstacles"}),"\n",(0,o.jsx)(e.li,{children:"Launch files to start the complete simulation"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"learning-review",children:"Learning Review"}),"\n",(0,o.jsx)(e.p,{children:"After completing this project, reflect on:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"How did the URDF model affect the robot's behavior in simulation?"}),"\n",(0,o.jsx)(e.li,{children:"What challenges did you face when configuring sensors in Gazebo?"}),"\n",(0,o.jsx)(e.li,{children:"How could you use this simulation to test real robot algorithms?"}),"\n",(0,o.jsx)(e.li,{children:"What differences exist between simulation and real-world robot behavior?"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsx)(e.p,{children:"This simulation provides a safe testing environment for the AI and perception systems you'll develop in later modules. You can use this environment to:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Test navigation algorithms before deploying on real hardware"}),"\n",(0,o.jsx)(e.li,{children:"Generate synthetic training data for machine learning models"}),"\n",(0,o.jsx)(e.li,{children:"Validate sensor fusion algorithms"}),"\n",(0,o.jsx)(e.li,{children:"Debug robot behaviors in a controlled environment"}),"\n"]})]})}function m(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>l});var i=r(6540);const o={},a=i.createContext(o);function t(n){const e=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:t(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);